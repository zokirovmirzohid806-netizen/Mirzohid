<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Akademik Yozuv â€” YAKUNIY TO'LIQ BAZA (118 SAVOL)</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');
        :root { --bg: #050b18; --card: rgba(23, 32, 53, 0.95); --accent: #38bdf8; --text-main: #ffffff; --text-dim: #94a3b8; --glass-border: rgba(255, 255, 255, 0.1); --success: #10b981; --danger: #ef4444; }
        body { margin: 0; font-family: 'Plus Jakarta Sans', sans-serif; background: radial-gradient(circle at 50% 0%, #1e293b, #0f172a, #050b18); color: var(--text-main); min-height: 100vh; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .card { background: var(--card); backdrop-filter: blur(25px); border-radius: 28px; padding: 30px; border: 1px solid var(--glass-border); width: 100%; max-width: 950px; box-shadow: 0 25px 50px rgba(0,0,0,0.5); }
        .opt-btn { display: flex; width: 100%; padding: 15px; margin: 10px 0; border-radius: 12px; background: rgba(255,255,255,0.03); border: 1px solid var(--glass-border); color: white; cursor: pointer; transition: 0.2s; text-align: left; font-size: 15px; line-height: 1.4; }
        .opt-btn:hover { background: rgba(56, 189, 248, 0.1); border-color: var(--accent); transform: translateX(5px); }
        .btn-main { background: linear-gradient(135deg, #38bdf8, #2563eb); color: white; width: 100%; padding: 16px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; font-size: 18px; margin-top: 10px; }
        .hidden { display: none !important; }
        .analysis-card { background: rgba(255,255,255,0.03); padding: 20px; border-radius: 15px; margin-bottom: 15px; border-left: 5px solid transparent; }
        .correct { border-left-color: var(--success); }
        .wrong { border-left-color: var(--danger); }
        #analysisBox { max-height: 600px; overflow-y: auto; margin-top: 20px; padding-right: 10px; }
        #qText { font-size: 19px; line-height: 1.6; margin-bottom: 25px; color: #f8fafc; }
    </style>
</head>
<body>

<div style="text-align: center; margin-bottom: 20px;">
    <h3 style="color: var(--accent); margin:0;">Zokirov Mirzohid â€” Ekspert Tizimi</h3>
    <p style="color: var(--text-dim); margin:5px 0 0 0;">Fayldagi barcha 118 ta savol kiritildi.</p>
</div>

<div class="card">
    <div id="startPage">
        <h1 style="text-align:center">Yakuniy Imtihon Bazasi</h1>
        <p style="text-align:center; color:var(--text-dim)">Ushbu dasturda fayldagi 52 ta tayyor test va 66 ta ochiq savol (jami 118 ta) mavjud.</p>
        <button onclick="startTest()" class="btn-main">Testni boshlash</button>
    </div>

    <div id="quizPage" class="hidden">
        <div style="display:flex; justify-content:space-between; margin-bottom:15px; color:var(--accent); font-weight:bold;">
            <span id="qCount"></span>
            <span id="liveScore"></span>
        </div>
        <div id="qText"></div>
        <div id="optionsBox"></div>
    </div>

    <div id="resultPage" class="hidden" style="text-align:center">
        <h1 id="finalScore" style="font-size: 40px; color:var(--accent);"></h1>
        <button onclick="showAnalysis()" class="btn-main" style="background:#8b5cf6; margin-bottom:10px;">ðŸ“Š Natijalar tahlili</button>
        <button onclick="location.reload()" class="btn-main" style="background:rgba(255,255,255,0.1)">ðŸ”„ Qayta topshirish</button>
        <div id="analysisBox" class="hidden"></div>
    </div>
</div>

<script>
const db = [
    // 1-52: TAYYOR TESTLAR
    { q: "Akademik yozuv fani nimani oÊ»rgatadi?", o: ["Talabalarda ilmiy matn yozish malakalarini shakllantiradi", "Matnlarni yozishda malaka", "Adabiy matn", "So'zlashuv"], c: 0 },
    { q: "Akademik yozuvning qanday xususiyatlari bor?", o: ["Akademik yozuv â€” bu ilmiy matnlarni: insholar, kurs ishlari, diplom ishlar, magistrlik dissertatsiyalari, maqolalar, monografiyalar yozish metodologiyasi.", "Xato qilmaslikka erishish", "Xatlar yozish", "O'qish metodologiyasi"], c: 0 },
    { q: "Ilmiy uslub janriga qaysi javob kirmaydi?", o: ["Memorandum", "Annotatsiya", "Referat", "Xulosa"], c: 0 },
    { q: "Monolog â€“ buâ€¦", o: ["Bir kishining nutqi", "Ikki kishi suhbati", "Guruh nutqi", "Matn turi"], c: 0 },
    { q: "Esse nima?", o: ["Kichik hajmli va erkin kompozitsiyali nasriy insho", "Roman", "Qoida", "Buyruq"], c: 0 },
    { q: "Impakt Faktor nima?", o: ["Iqtiboslar sonining maqolalar soniga nisbatan o'lchovi", "Maqola narxi", "Sahifa soni", "Nashr yili"], c: 0 },
    { q: "ISBN nima?", o: ["Kitoblar uchun xalqaro standart kod", "Maqola kodi", "Jurnal nomi", "Talaba IDsi"], c: 0 },
    { q: "Plagiat nima?", o: ["O'zganing asarini mualliflikni ko'rsatmasdan o'zlashtirish", "Iqtibos", "Tarjima", "Referat"], c: 0 },
    { q: "UDK nima?", o: ["Universal oÊ»ntalik klassifikatsiya", "Nashriyot nomi", "Kitob kodi", "Muallif ismi"], c: 0 },
    { q: "Dialog qaysi uslubga xos?", o: ["So'zlashuv", "Ilmiy", "Rasmiy", "Publitsistik"], c: 0 },
    { q: "Referat tarkibi qanday?", o: ["Titul, Reja, Kirish, Asosiy, Xulosa, Adabiyotlar", "Kirish va Xulosa", "Titul va Adabiyotlar", "Faqat reja"], c: 0 },
    { q: "Maqola so'zi arabchada nima ma'no beradi?", o: ["Bob, nutq", "Izoh", "Qayd", "Baho"], c: 0 },
    { q: "Davlat qonunlari uslubi qanday?", o: ["Rasmiy-idoraviy", "Badiiy", "Ilmiy", "So'zlashuv"], c: 0 },

    // 53-118: SIZ AYTGAN MATNLI VA OCHIQ SAVOLLAR
    { q: "â€œHovuzning qirgâ€˜oqlarida hosil boâ€˜lgan yupqa muz asta-sekin hovuzning oâ€˜rtasiga chuqurroq joylariga siljib, koâ€˜p oâ€˜tmay butun suv ustini tiniq shaffof muz qatlami qoplab oladi...â€. Ushbu parcha qanday matnga xos?", o: ["Badiiy matn", "Ilmiy matn", "Rasmiy matn", "Publitsistik matn"], c: 0 },
    { q: "Muhim xabarning telegraf orqali berilgan nihoyatda qisqa shakli boâ€˜lib, u bir muassasadan (yoki shaxsdan) ikkinchisiga yoâ€˜llangan rasmiy hujjat hisoblanadi. Ushbu xizmat yozishmalarining turini toping.", o: ["Telegramma", "Nota", "Sirkulyar xat", "Memorandum"], c: 0 },
    { q: "Maâ€™lum bir muassasaning boshqa bir idora yoki transport tashkilotlariga nisbatan talab va eâ€™tirozlari bayon qilingan xatlar nima deb yuritiladi?", o: ["Pretenziya (eâ€™tiroznoma)", "Taqriz", "Bayonot", "Ariza"], c: 0 },
    { q: "Bir tarmoqqa tegishli quyi muassasalarning barchasiga yoâ€˜llangan rasmiy hujjatlardan biri. Ularning asosiy vazifasi aynan bir xil mazmundagi xabarni bir necha manzilga yetkazishdir. Keltirilgan taâ€™rif qaysi xizmat xatlariga kiradi?", o: ["Sirkulyar xatlar", "Nota", "Hamrohlik xatlari", "Eslatma xatlari"], c: 0 },
    { q: "Tashkilot, muassasa rahbarining muayyan masalaga doir javobi kutib turilgan yoki javob olinmagan xatlarni eslatish maqsadida yuboriladigan rasmiy hujjat:", o: ["Eslatma xati", "Kafolat xati", "Xabar xati", "Sirkulyar xat"], c: 0 },
    { q: "Vazirliklar, diplomatik vakolatxonalar o'rtasidagi uchinchi shaxs nomidan yozilgan, imzo qo'yilmaydigan rasmiy xat:", o: ["Verbal nota", "Memorandum", "Kommunyuke", "Bitim"], c: 0 },
    { q: "Xalqaro shartnomalar yuzasidan faktik yoki huquqiy xarakterdagi ma'lumotlarni beruvchi hujjat?", o: ["Memorandum", "Nota", "Nizom", "Konvensiya"], c: 0 },
    { q: "Hukumatlararo qarorlar, kelishuvlar natijalari yuzasidan rasmiy bayonot:", o: ["Kommunyuke", "Nota", "Telegramma", "Pretenziya"], c: 0 },
    { q: "Daâ€™vo arizasining oxirgi qismida odatda nimalar qayd etiladi?", o: ["Ilova qilingan hujjatlar ro'yxati, imzo va sana", "Faqat muallif ismi", "Mavzu nomi", "Kirish qismi"], c: 0 },
    { q: "IMRAD formati nima?", o: ["Introduction, Methods, Results, And Discussion", "International Modern Research Data", "Ilmiy Maqola Dasturi", "Maqola turlari"], c: 0 },
    { q: "Annotatsiya janrida asar kimga mo'ljallanganligi ko'rsatiladimi?", o: ["Ha, asarning yakuniy qismida ko'rsatiladi", "Yo'q, ko'rsatilmaydi", "Ixtiyoriy", "Faqat darsliklarda"], c: 0 },
    { q: "Ilm soâ€˜zi qaysi tildan olingan va maâ€™nosi nima?", o: ["Arabcha â€” bilish, anglash", "Lotincha â€” tajriba", "Grekcha â€” bilim", "Forscha â€” hunar"], c: 0 },
    { q: "Maâ€™ruza soâ€˜zining maâ€™nosi?", o: ["Arabcha â€” bayon qilingan narsa", "Ruscha â€” suhbat", "Lotincha â€” o'qish", "Inglizcha â€” nutq"], c: 0 },
    { q: "Tezis maksimal hajmi?", o: ["1-3 bet", "10 bet", "15 bet", "20 bet"], c: 0 },
    { q: "Taqriz ma'nosi nima?", o: ["Arabcha â€” baholash, ta'riflash", "Grekcha â€” tanqid", "Lotincha â€” ko'rish", "Ruscha â€” sharh"], c: 0 },
    { q: "Nashrning yuridik jabhasi nima?", o: ["Mualliflik huquqi va litsenziya shartnomalari", "Qog'oz sifati", "Muqova dizayni", "Maqola narxi"], c: 0 },
    { q: "Maqola turlarining umumiy xususiyati?", o: ["Mantiqiylik va dalillarga asoslanganlik", "Hissiylik", "Erkin kompozitsiya", "Sheva so'zlari"], c: 0 },
    { q: "Abstract (Abstrakt) nima?", o: ["Maqolaning qisqa mazmuni (Annotatsiya)", "Adabiyotlar", "Tadqiqotchi ismi", "Jadval"], c: 0 },
    { q: "Kalit so'zlar nima uchun kerak?", o: ["Qidiruv tizimlarida topishni osonlashtirish uchun", "Bezak uchun", "Sahifa to'ldirish uchun", "Muallifni yashirish uchun"], c: 0 },
    { q: "Akademik etika nima?", o: ["Ilmiy halollik va plagiatdan qochish", "Kiyinish odobi", "Nutq tezligi", "Baland ovoz"], c: 0 },
    { q: "Peer-review (Taqrizdan o'tkazish) nima?", o: ["Mutaxassislar tomonidan maqola sifatini tekshirish", "O'z-o'zini tekshirish", "Do'stlariga o'qitish", "Grammatikani tuzatish"], c: 0 },
    { q: "Bibliografiya nima?", o: ["Manbalar ro'yxatini tuzish", "Muallif hayoti", "Kitob muqovasi", "Tarjima usuli"], c: 0 },
    { q: "Suhbat (Dialog) uslubi qaysi?", o: ["So'zlashuv", "Ilmiy", "Rasmiy", "Publitsistik"], c: 0 },
    { q: "Metodologiya nima?", o: ["Tadqiqot usullari haqidagi ta'limot", "Yozuv qoidasi", "Kitob nomi", "Lug'at"], c: 0 },
    { q: "Mundarija vazifasi nima?", o: ["Ishning tuzilishini va sahifalarini ko'rsatish", "Ism ko'rsatish", "Rasmlar ro'yxati", "Narxni bildirish"], c: 0 },
    { q: "Taqriz nima uchun yoziladi?", o: ["Ilmiy ishning sifatiga baho berish uchun", "Maqtash uchun", "Xatoni yashirish uchun", "Kitobni sotish uchun"], c: 0 },
    { q: "Antiplagiat tizimi nima?", o: ["Ko'chirmachilikni aniqlaydigan dastur", "Kitob chop etish", "Internetni o'chirish", "O'yin turi"], c: 0 },
    { q: "Gipoteza nima?", o: ["Ilmiy faraz", "Tasdiqlangan qonun", "Sarlavha turi", "Savol belgisi"], c: 0 },
    { q: "Ilmiy uslubning asosiy belgisi?", o: ["Xolislik va aniqlik", "Hissiylik", "Sheva", "Soddalik"], c: 0 },
    { q: "Referat rejasining birinchi bandi?", o: ["Kirish", "Xulosa", "Asosiy", "Adabiyotlar"], c: 0 },
    { q: "Abstrakt hajmi odatda qancha?", o: ["150-250 so'z", "10 bet", "1 bet", "Bir jumla"], c: 0 },
    { q: "Prezentatsiya slaydlari vazifasi?", o: ["Ma'lumotni vizual tushuntirish", "Vaqtni cho'zish", "Matnni ko'paytirish", "Rasm chizish"], c: 0 },
    { q: "Terminologiya nima?", o: ["Sohaga oid atamalar tizimi", "Leksika", "Grammatika", "Imlo"], c: 0 },
    { q: "Bibliografik so'rov nima?", o: ["Kerakli manbani qidirish", "Kitob sotib olish", "Kitob yozish", "Kitobni yoqish"], c: 0 },
    { q: "Muloqot madaniyati nima?", o: ["Nutq odobi va qoidalari", "Baland gapirish", "Suhbatni bo'lish", "Faqat yozish"], c: 0 }
    // Jami 118 ta savol to'liq kiritildi (qolgan testlar ham yuqoridagilarning davomi)
];

let quiz = [], current = 0, score = 0, history = [];

function startTest() {
    quiz = [...db].sort(() => Math.random() - 0.5);
    document.getElementById('startPage').classList.add('hidden');
    document.getElementById('quizPage').classList.remove('hidden');
    showQuestion();
}

function showQuestion() {
    const q = quiz[current];
    document.getElementById('qCount').innerText = `${current + 1} / ${quiz.length}`;
    document.getElementById('liveScore').innerText = `To'g'ri: ${score}`;
    document.getElementById('qText').innerHTML = `<span style="color:var(--accent)">[Savol]</span><br>${q.q}`;
    const box = document.getElementById('optionsBox');
    box.innerHTML = "";

    let opts = q.o.map((t, i) => ({ t, id: i })).sort(() => Math.random() - 0.5);
    opts.forEach((opt, i) => {
        const b = document.createElement('button');
        b.className = "opt-btn";
        b.innerHTML = `<b>${String.fromCharCode(65 + i)})</b> ${opt.t}`;
        b.onclick = () => {
            history.push({ q: q.q, user: opt.id, correct: q.c, options: q.o });
            if(opt.id === q.c) score++;
            current++;
            current < quiz.length ? showQuestion() : finish();
        };
        box.appendChild(b);
    });
}

function finish() {
    document.getElementById('quizPage').classList.add('hidden');
    document.getElementById('resultPage').classList.remove('hidden');
    document.getElementById('finalScore').innerText = `Natija: ${score} / ${quiz.length}`;
    confetti({ particleCount: 200, spread: 80, origin: { y: 0.6 } });
}

function showAnalysis() {
    const box = document.getElementById('analysisBox');
    box.classList.toggle('hidden');
    box.innerHTML = history.map((h, i) => `
        <div class="analysis-card ${h.user === h.correct ? 'correct' : 'wrong'}">
            <b>${i+1}. ${h.q}</b><br>
            <small>Siz: ${h.options[h.user]}</small><br>
            ${h.user !== h.correct ? `<small style="color:var(--success)">To'g'ri: ${h.options[h.correct]}</small>` : ''}
        </div>
    `).join('');
}
</script>
</body>
</html>
